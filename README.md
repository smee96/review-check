# ReviewSphere (리뷰스피어)

인플루언서 마케팅 플랫폼 - 광고주와 인플루언서를 연결하는 캠페인 매칭 서비스

## 🌐 프로젝트 개요

ReviewSphere는 광고주와 인플루언서를 연결하는 혁신적인 마케팅 플랫폼입니다. 광고주는 캠페인을 등록하고 최적의 인플루언서를 선별할 수 있으며, 인플루언서는 다양한 캠페인에 참여하여 수익을 창출할 수 있습니다.

## 🎯 주요 기능

### ✅ 현재 구현된 기능

#### 인증 시스템
- ✅ 이메일/닉네임/비밀번호 회원가입
- ✅ 비밀번호 확인 필드 (회원가입 시 이중 검증)
- ✅ JWT 기반 로그인
- ✅ 비밀번호 찾기 (이메일 링크 발송 - Resend 연동 예정)
- ✅ 역할 기반 접근 제어 (광고주/대행사/렙사/인플루언서/관리자)

#### 광고주/대행사/렙사 기능
- ✅ 캠페인 등록 및 수정
- ✅ 내 캠페인 목록 조회
- ✅ 캠페인 지원자 조회 (관리자 승인 후)
- ✅ 지원자 확정/거절
- ✅ 사업자 정보 관리 (세금계산서/통장입금용)
- ✅ 인플루언서 SNS 계정 정보 확인
- 📝 **참고**: 광고주, 대행사, 렙사는 동일한 권한을 가지며 모두 advertiser_profiles 테이블 사용

#### 인플루언서 기능
- ✅ 승인된 캠페인 검색 및 조회
- ✅ 캠페인 지원하기
- ✅ 내 지원 내역 조회
- ✅ 확정된 캠페인 결과 등록 (포스트 URL)
- ✅ 채널 정보 관리 (Instagram, YouTube, 블로그, TikTok)
- ✅ 정산 정보 관리 (계좌번호, 예금주, 연락처)

#### 관리자 기능
- ✅ 전체 캠페인 관리
- ✅ 캠페인 승인/일시중지/재개/취소
- ✅ 정산 내역 조회
- ✅ 정산 내역 엑셀(CSV) 다운로드

### 📋 향후 추가 예정 기능

- 📧 Resend 이메일 발송 연동
- 📱 Instagram DM 자동 발송 (API 검토 중)
- 🔐 소셜 로그인 (Facebook/Instagram)
- 💳 결제 연동 (광고주 카드 결제)
- 💰 정산 자동화 시스템
- 📊 통계 대시보드
- 🔔 실시간 알림 시스템

## 🔗 URL

### 개발 환경
- **Local URL**: http://localhost:3000
- **Sandbox URL**: https://3000-idu9nocxtg1m76pm1zhg7-de59bda9.sandbox.novita.ai

### 프로덕션 환경
- **Production URL**: (배포 후 업데이트 예정)

## 📊 데이터 아키텍처

### 데이터 모델

#### Users (사용자)
- 이메일, 닉네임, 비밀번호(해시), 역할(광고주/대행사/렙사/인플루언서/관리자)

#### Advertiser Profiles (광고주/대행사/렙사 프로필)
- 회사명, 사업자등록번호, 대표자명, 사업자주소, 연락처
- **참고**: 광고주, 대행사, 렙사 모두 동일한 테이블 사용

#### Influencer Profiles (인플루언서 프로필)
- SNS 계정 정보 (Instagram, YouTube, 블로그, TikTok)
- 팔로워 수, 카테고리
- 정산 정보 (은행, 계좌번호, 예금주, 연락처)

#### Campaigns (캠페인)
- 제목, 설명, 제품정보, 요구사항, 예산, 모집인원
- 상태: 승인대기/진행중/일시중지/완료/취소

#### Applications (지원)
- 캠페인-인플루언서 매칭
- 상태: 대기중/확정/거절

#### Reviews (결과)
- 확정된 캠페인의 포스트 URL

### 스토리지 서비스
- **Cloudflare D1**: SQLite 기반 관계형 데이터베이스
- **로컬 개발**: `--local` 플래그로 로컬 SQLite 자동 사용

## 🎨 사용자 가이드

### 광고주/대행사/렙사 가이드

1. **회원가입**
   - 홈페이지에서 "광고주로 시작하기" 클릭 (또는 회원가입 페이지에서 역할 선택)
   - 이메일, 닉네임, 비밀번호 입력 (비밀번호 확인 필수)
   - 역할 선택: 광고주 / 대행사 / 렙사

2. **사업자 정보 등록**
   - 대시보드에서 "프로필 관리" 선택
   - 회사명, 사업자등록번호, 연락처 등 입력

3. **캠페인 등록**
   - "캠페인 등록" 선택
   - 캠페인 정보 입력 (제목, 설명, 예산, 모집인원 등)
   - 관리자 승인 대기

4. **지원자 확인 및 선별**
   - 캠페인 승인 후 지원자 목록 확인 가능
   - 인플루언서의 SNS 계정 및 팔로워 수 확인
   - 적합한 인플루언서 확정

5. **소통**
   - 확정된 인플루언서의 Instagram 계정으로 DM 발송
   - 이메일로 직접 연락

### 인플루언서 가이드

1. **회원가입**
   - 홈페이지에서 "인플루언서로 시작하기" 클릭
   - 이메일, 닉네임, 비밀번호 입력

2. **프로필 작성**
   - 대시보드에서 "프로필 관리" 선택
   - **채널 정보**: Instagram, YouTube, 블로그, TikTok 계정
   - **정산 정보**: 은행, 계좌번호, 예금주, 연락처

3. **캠페인 찾기**
   - "캠페인 찾기" 메뉴에서 진행중인 캠페인 확인
   - 관심 캠페인의 상세 정보 확인

4. **캠페인 지원**
   - 원하는 캠페인에 지원 메시지 작성하여 지원
   - "내 지원 내역"에서 상태 확인

5. **결과 등록**
   - 확정된 캠페인 완료 후
   - 포스트 URL을 등록하여 결과 제출

### 관리자 가이드

1. **캠페인 관리**
   - 등록된 캠페인 승인/거절
   - 진행 중인 캠페인 일시중지/재개
   - 문제 캠페인 취소

2. **정산 관리**
   - "정산 내역" 메뉴에서 모든 확정 캠페인 확인
   - 인플루언서 계좌 정보, 포스트 URL 확인
   - 엑셀 다운로드하여 별도 정산 처리

## 📁 프로젝트 구조

```
webapp/
├── src/                          # 백엔드 소스 (TypeScript)
│   ├── index.ts                  # 메인 애플리케이션 (라우트 통합)
│   ├── types.ts                  # TypeScript 타입 정의
│   ├── utils.ts                  # 유틸리티 함수 (JWT, 해싱 등)
│   ├── middleware/               # 미들웨어
│   │   └── auth.ts              # 인증 미들웨어
│   └── routes/                   # API 라우트 (역할별 분리)
│       ├── auth.ts              # 인증 관련 API
│       ├── campaigns.ts         # 캠페인 관련 API
│       ├── applications.ts      # 지원/리뷰 관련 API
│       ├── profiles.ts          # 프로필 관련 API
│       ├── admin.ts             # 관리자 관련 API
│       └── notifications.ts     # 알림 관련 API
│
├── public/static/js/             # 프론트엔드 소스 (JavaScript)
│   ├── app.js                   # 메인 애플리케이션 (UI 로직)
│   ├── api.js                   # API 서비스 레이어
│   └── ui-utils.js              # UI 유틸리티 함수
│
├── migrations/                   # 데이터베이스 마이그레이션
│   └── 0001_initial_schema.sql
│
├── package.json                  # 의존성 및 스크립트
├── wrangler.jsonc               # Cloudflare 설정
├── vite.config.ts               # Vite 빌드 설정
├── tsconfig.json                # TypeScript 설정
└── ecosystem.config.cjs         # PM2 설정
```

### 파일 분리 전략

#### 백엔드 (Backend)
- **라우트 분리**: 각 도메인별로 독립적인 라우트 파일
  - `auth.ts`: 회원가입, 로그인, 비밀번호 재설정
  - `campaigns.ts`: 캠페인 CRUD 및 지원
  - `applications.ts`: 지원 관리 및 리뷰 제출
  - `profiles.ts`: 광고주/인플루언서 프로필
  - `admin.ts`: 관리자 전용 기능
  - `notifications.ts`: 알림 시스템

- **미들웨어 분리**: 재사용 가능한 미들웨어
  - `auth.ts`: JWT 인증 및 역할 기반 권한 검사

#### 프론트엔드 (Frontend)
- **API 레이어 분리**: `api.js`
  - 모든 API 호출을 중앙 집중화
  - 인증 헤더 자동 처리
  - 재사용 가능한 API 메서드

- **UI 유틸리티 분리**: `ui-utils.js`
  - 공통 UI 컴포넌트 (네비게이션, 푸터)
  - 상태 뱃지 및 텍스트 헬퍼
  - CSV 다운로드 등 유틸리티 함수

- **메인 앱**: `app.js`
  - 페이지 렌더링 로직
  - 사용자 상태 관리
  - 이벤트 핸들러

### 장점
✅ **유지보수성**: 각 파일이 단일 책임을 가짐  
✅ **확장성**: 새 기능 추가 시 해당 파일만 수정  
✅ **가독성**: 작은 파일로 코드 이해가 쉬움  
✅ **재사용성**: 공통 기능을 쉽게 재사용  
✅ **테스트**: 독립적인 모듈로 테스트 용이  

## 🚀 배포 현황

### 현재 상태
- ✅ 로컬 개발 환경 구축 완료
- ✅ 모듈화된 코드 구조로 리팩토링 완료
- ✅ Sandbox 테스트 서버 실행 중
- ⏳ Cloudflare Pages 프로덕션 배포 대기

### 기술 스택
- **Backend**: Hono (TypeScript) - 경량 웹 프레임워크
- **Frontend**: Vanilla JavaScript + TailwindCSS
- **Database**: Cloudflare D1 (SQLite)
- **Authentication**: JWT
- **Deployment**: Cloudflare Pages/Workers
- **Architecture**: 모듈화된 라우트 기반 구조

## 📞 문의사항

모든 문의사항은 이메일로 연락주세요:
- **Email**: checknreview@mobin-inc.com

## 🎨 UI/UX 특징

### 모바일 최적화
- 📱 **인플루언서**: 모바일 우선 디자인 (대부분 모바일 사용)
  - 세로 1열 레이아웃으로 터치 친화적
  - 큰 버튼과 간격으로 편리한 조작
  - 작은 화면에 최적화된 폰트 크기
  
- 💻 **광고주**: PC/모바일 하이브리드 디자인 (50/50 사용)
  - PC: 2-3열 그리드 레이아웃
  - 모바일: 자동으로 1-2열로 전환
  - 반응형 텍스트와 간격
  
- 🖥️ **관리자**: PC 우선 디자인
  - 넓은 화면 활용 테이블 뷰
  - 데이터 관리 최적화

### 반응형 브레이크포인트
- `xs`: 320px~ (초소형 모바일)
- `sm`: 640px~ (모바일)
- `md`: 768px~ (태블릿)
- `lg`: 1024px~ (데스크톱)

### 터치 최적화
- ✅ 버튼 크기 최소 44x44px (모바일 터치 표준)
- ✅ Active 상태 피드백 (`active:scale-95`)
- ✅ 충분한 여백과 간격
- ✅ Sticky 네비게이션 바

### 컴팩트한 푸터
- 높이 최소화 (py-6)
- 작은 폰트 (text-xs, text-sm)
- 정보 압축 표시
- 모바일에서도 1-2줄로 표시

## 📝 개발 로그

### 2025-11-10
- ✅ 프로젝트 초기 설정 완료
- ✅ 데이터베이스 스키마 설계
- ✅ 인증 시스템 구현 (회원가입, 로그인, 비밀번호 찾기)
- ✅ 광고주 기능 완성 (캠페인 CRUD, 지원자 관리)
- ✅ 인플루언서 기능 완성 (캠페인 지원, 결과 등록)
- ✅ 관리자 기능 완성 (캠페인 승인, 정산 내역)
- ✅ 프론트엔드 UI 완성 (반응형 디자인)
- ✅ 로컬 테스트 서버 실행 성공
- ✅ 회사 정보 푸터 추가
- ✅ 모바일 최적화 완료 (인플루언서 우선)
- ✅ 푸터 높이 최소화
- ✅ M-Spheres → ReviewSphere 리브랜딩
- ✅ **백엔드/프론트엔드 모듈화 리팩토링**
  - 백엔드: 라우트 및 미들웨어를 역할별로 분리
  - 프론트엔드: API, UI 유틸리티 분리
  - 단일 파일 코드 → 모듈화된 구조로 개선
- ✅ **대행사/렙사 역할 추가**
  - 광고주, 대행사, 렙사 세 역할이 동일한 권한 공유
  - 회원가입 시 비밀번호 확인 필드 추가
  - 역할별 대시보드 타이틀 표시
  - 모든 백엔드 라우트 권한 검사 업데이트

### 다음 단계
- 📧 Resend 이메일 연동
- 🚀 Cloudflare Pages 프로덕션 배포
- 📱 GitHub 저장소 연동
- 🔐 소셜 로그인 추가
- 🔍 코드 최적화 및 에러 핸들링 강화

---

Made with ❤️ by ReviewSphere Team
